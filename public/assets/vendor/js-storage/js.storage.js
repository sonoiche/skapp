!function(e){var t,r,o=!1;"function"==typeof define&&define.amd&&(define(e),o=!0),"object"==typeof exports&&(module.exports=e(),o=!0),o||(t=window.Storages,(r=window.Storages=e()).noConflict=function(){return window.Storages=t,r})}(function(){var e={},t=e.toString,r=e.hasOwnProperty,o=r.toString,n=o.call(Object),i=Object.getPrototypeOf,s={};function a(){var t,r,e,o,n,i=this._type,s=arguments.length,a=window[i],u=arguments,c=u[0];if(s<1)throw new Error("Minimum 1 argument must be given");if(Array.isArray(c)){for(o in r={},c)if(c.hasOwnProperty(o)){t=c[o];try{r[t]=JSON.parse(a.getItem(t))}catch(e){r[t]=a.getItem(t)}}return r}if(1!=s){try{if(!(r=JSON.parse(a.getItem(c))))throw new ReferenceError(c+" is not defined in this storage")}catch(e){throw new ReferenceError(c+" is not defined in this storage")}for(o=1;o<s-1;o++)if(void 0===(r=r[u[o]]))throw new ReferenceError([].slice.call(u,0,o+1).join(".")+" is not defined in this storage");if(Array.isArray(u[o])){for(n in e=r,r={},u[o])u[o].hasOwnProperty(n)&&(r[u[o][n]]=e[u[o][n]]);return r}return r[u[o]]}try{return JSON.parse(a.getItem(c))}catch(e){return a.getItem(c)}}function u(){var e,t,r,o,n=this._type,i=arguments.length,s=window[n],a=arguments,u=a[0],c=a[1],n=isNaN(c)?{}:[];if(i<1||!p(u)&&i<2)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");if(p(u)){for(o in u)u.hasOwnProperty(o)&&(p(e=u[o])||this.alwaysUseJson?s.setItem(o,JSON.stringify(e)):s.setItem(o,e));return u}if(2==i)return"object"==typeof c||this.alwaysUseJson?s.setItem(u,JSON.stringify(c)):s.setItem(u,c),c;try{null!=(r=s.getItem(u))&&(n=JSON.parse(r))}catch(e){}for(r=n,o=1;o<i-2;o++)e=a[o],t=isNaN(a[o+1])?"object":"array",r[e]&&("object"!=t||p(r[e]))&&("array"!=t||Array.isArray(r[e]))||(r[e]="array"==t?[]:{}),r=r[e];return r[a[o]]=a[o+1],s.setItem(u,JSON.stringify(n)),n}function c(){var e,t,r,o,n=this._type,i=arguments.length,s=window[n],a=arguments,u=a[0];if(i<1)throw new Error("Minimum 1 argument must be given");if(Array.isArray(u)){for(r in u)u.hasOwnProperty(r)&&s.removeItem(u[r]);return!0}if(1==i)return s.removeItem(u),!0;try{e=t=JSON.parse(s.getItem(u))}catch(e){throw new ReferenceError(u+" is not defined in this storage")}for(r=1;r<i-1;r++)if(void 0===(t=t[a[r]]))throw new ReferenceError([].slice.call(a,1,r).join(".")+" is not defined in this storage");if(Array.isArray(a[r]))for(o in a[r])a[r].hasOwnProperty(o)&&delete t[a[r][o]];else delete t[a[r]];return s.setItem(u,JSON.stringify(e)),!0}function l(e){var t,r=g.call(this);for(t in r)r.hasOwnProperty(t)&&c.call(this,r[t]);if(e)for(t in s.namespaceStorages)s.namespaceStorages.hasOwnProperty(t)&&w(t)}function f(){var e,t=arguments.length,r=arguments,o=r[0];if(0==t)return 0==g.call(this).length;if(Array.isArray(o)){for(e=0;e<o.length;e++)if(!f.call(this,o[e]))return!1;return!0}try{var n=a.apply(this,arguments);for(e in n=!Array.isArray(r[t-1])?{totest:n}:n)if(n.hasOwnProperty(e)&&!(p(n[e])&&function(e){for(var t in e)return!1;return!0}(n[e])||Array.isArray(n[e])&&!n[e].length||"boolean"!=typeof n[e]&&!n[e]))return!1;return!0}catch(e){return!0}}function h(){var e,t=arguments.length,r=arguments,o=r[0];if(t<1)throw new Error("Minimum 1 argument must be given");if(Array.isArray(o)){for(e=0;e<o.length;e++)if(!h.call(this,o[e]))return!1;return!0}try{var n=a.apply(this,arguments);for(e in n=!Array.isArray(r[t-1])?{totest:n}:n)if(n.hasOwnProperty(e)&&(void 0===n[e]||null===n[e]))return!1;return!0}catch(e){return!1}}function g(){var e=this._type,e=window[e],t=[],r={};if((r=0<arguments.length?a.apply(this,arguments):e)&&r._cookie){var o,n=Cookies.get();for(o in n)n.hasOwnProperty(o)&&""!=o&&t.push(o.replace(r._prefix,""))}else for(var i in r)r.hasOwnProperty(i)&&t.push(i);return t}function w(e){if(!e||"string"!=typeof e)throw new Error("First parameter must be a string");y?(window.localStorage.getItem(e)||window.localStorage.setItem(e,"{}"),window.sessionStorage.getItem(e)||window.sessionStorage.setItem(e,"{}")):(window.localCookieStorage.getItem(e)||window.localCookieStorage.setItem(e,"{}"),window.sessionCookieStorage.getItem(e)||window.sessionCookieStorage.setItem(e,"{}"));var t={localStorage:m({},s.localStorage,{_ns:e}),sessionStorage:m({},s.sessionStorage,{_ns:e})};return d&&(window.cookieStorage.getItem(e)||window.cookieStorage.setItem(e,"{}"),t.cookieStorage=m({},s.cookieStorage,{_ns:e})),s.namespaceStorages[e]=t}function p(e){return e&&"[object Object]"===t.call(e)&&(!(e=i(e))||"function"==typeof(e=r.call(e,"constructor")&&e.constructor)&&o.call(e)===n)}function m(e){for(var t=1,r=e;t<arguments.length;t++){var o,n=arguments[t];for(o in n)n.hasOwnProperty(o)&&(r[o]=n[o])}return r}var y=function(e){var t="jsapi";try{return window[e]?(window[e].setItem(t,t),window[e].removeItem(t),!0):!1}catch(e){return!1}}("localStorage"),d="undefined"!=typeof Cookies,S={_type:"",_ns:"",_callMethod:function(e,t){var r=[],o=(t=Array.prototype.slice.call(t))[0];return this._ns&&r.push(this._ns),"string"==typeof o&&-1!==o.indexOf(".")&&(t.shift(),[].unshift.apply(t,o.split("."))),[].push.apply(r,t),e.apply(this,r)},alwaysUseJson:!1,get:function(){return y||d?this._callMethod(a,arguments):null},set:function(){var e=arguments.length,t=arguments,r=t[0];if(e<1||!p(r)&&e<2)throw new Error("Minimum 2 arguments must be given or first parameter must be an object");if(!y&&!d)return null;if(p(r)&&this._ns){for(var o in r)r.hasOwnProperty(o)&&this._callMethod(u,[o,r[o]]);return r}t=this._callMethod(u,t);return this._ns?t[r.split(".")[0]]:t},remove:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return y||d?this._callMethod(c,arguments):null},removeAll:function(e){return y||d?this._ns?(this._callMethod(u,[{}]),!0):this._callMethod(l,[e]):null},isEmpty:function(){return y||d?this._callMethod(f,arguments):null},isSet:function(){if(arguments.length<1)throw new Error("Minimum 1 argument must be given");return y||d?this._callMethod(h,arguments):null},keys:function(){return y||d?this._callMethod(g,arguments):null}};return d&&(window.name||(window.name=Math.floor(1e8*Math.random())),e={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,_secure:!1,setItem:function(e,t){Cookies.set(this._prefix+e,t,{expires:this._expires,path:this._path,domain:this._domain,secure:this._secure})},getItem:function(e){return Cookies.get(this._prefix+e)},removeItem:function(e){return Cookies.remove(this._prefix+e,{path:this._path})},clear:function(){var e,t=Cookies.get();for(e in t)t.hasOwnProperty(e)&&""!=e&&(!this._prefix&&-1===e.indexOf("ls_")&&-1===e.indexOf("ss_")||this._prefix&&0===e.indexOf(this._prefix))&&Cookies.remove(e)},setExpires:function(e){return this._expires=e,this},setPath:function(e){return this._path=e,this},setDomain:function(e){return this._domain=e,this},setSecure:function(e){return this._secure=e,this},setConf:function(e){return e.path&&(this._path=e.path),e.domain&&(this._domain=e.domain),e.secure&&(this._secure=e.secure),e.expires&&(this._expires=e.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null,this._secure=!1}},y||(window.localCookieStorage=m({},e,{_prefix:"ls_",_expires:3650,_secure:!0}),window.sessionCookieStorage=m({},e,{_prefix:"ss_"+window.name+"_",_secure:!0})),window.cookieStorage=m({},e),s.cookieStorage=m({},S,{_type:"cookieStorage",setExpires:function(e){return window.cookieStorage.setExpires(e),this},setPath:function(e){return window.cookieStorage.setPath(e),this},setDomain:function(e){return window.cookieStorage.setDomain(e),this},setSecure:function(e){return window.cookieStorage.setSecure(e),this},setConf:function(e){return window.cookieStorage.setConf(e),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})),s.initNamespaceStorage=w,y?(s.localStorage=m({},S,{_type:"localStorage"}),s.sessionStorage=m({},S,{_type:"sessionStorage"})):(s.localStorage=m({},S,{_type:"localCookieStorage"}),s.sessionStorage=m({},S,{_type:"sessionCookieStorage"})),s.namespaceStorages={},s.removeAllStorages=function(e){s.localStorage.removeAll(e),s.sessionStorage.removeAll(e),s.cookieStorage&&s.cookieStorage.removeAll(e),e||(s.namespaceStorages={})},s.alwaysUseJsonInStorage=function(e){S.alwaysUseJson=e,s.localStorage.alwaysUseJson=e,s.sessionStorage.alwaysUseJson=e,s.cookieStorage&&(s.cookieStorage.alwaysUseJson=e)},s});