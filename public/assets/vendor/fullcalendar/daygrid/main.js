!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@fullcalendar/core")):"function"==typeof define&&define.amd?define(["exports","@fullcalendar/core"],t):t((e=e||self).FullCalendarDayGrid={},e.FullCalendar)}(this,function(e,k){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function t(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o,c=function(){return(c=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r=(t(i,o=k.DateProfileGenerator),i.prototype.buildRenderRange=function(e,t,r){var n,i=this.dateEnv,e=o.prototype.buildRenderRange.call(this,e,t,r),r=e.start,e=e.end;return/^(year|month)$/.test(t)&&(r=i.startOfWeek(r),(n=i.startOfWeek(e)).valueOf()!==e.valueOf()&&(e=k.addWeeks(n,1))),this.options.monthMode&&this.options.fixedWeekCount&&(n=Math.ceil(k.diffWeeks(r,e)),e=k.addWeeks(e,6-n)),{start:r,end:e}},i);function i(){return null!==o&&o.apply(this,arguments)||this}var h=(s.prototype.show=function(){this.isHidden&&(this.el||this.render(),this.el.style.display="",this.position(),this.isHidden=!1,this.trigger("show"))},s.prototype.hide=function(){this.isHidden||(this.el.style.display="none",this.isHidden=!0,this.trigger("hide"))},s.prototype.render=function(){var t=this,e=this.options,r=this.el=k.createElement("div",{className:"fc-popover "+(e.className||""),style:{top:"0",left:"0"}});"function"==typeof e.content&&e.content(r),e.parentEl.appendChild(r),k.listenBySelector(r,"click",".fc-close",function(e){t.hide()}),e.autoHide&&document.addEventListener("mousedown",this.documentMousedown)},s.prototype.destroy=function(){this.hide(),this.el&&(k.removeElement(this.el),this.el=null),document.removeEventListener("mousedown",this.documentMousedown)},s.prototype.position=function(){var e=this.options,t=this.el,r=t.getBoundingClientRect(),n=k.computeRect(t.offsetParent),i=k.computeClippingRect(e.parentEl),o=e.top||0,e=void 0!==e.left?e.left:void 0!==e.right?e.right-r.width:0;o=Math.min(o,i.bottom-r.height-this.margin),o=Math.max(o,i.top+this.margin),e=Math.min(e,i.right-r.width-this.margin),e=Math.max(e,i.left+this.margin),k.applyStyle(t,{top:o-n.top,left:e-n.left})},s.prototype.trigger=function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))},s);function s(e){var t=this;this.isHidden=!0,this.margin=10,this.documentMousedown=function(e){t.el&&!t.el.contains(e.target)&&t.hide()},this.options=e}var l,a=(t(d,l=k.FgEventRenderer),d.prototype.renderSegHtml=function(e,t){var r,n=this.context,i=e.eventRange,o=i.def,s=i.ui,l=o.allDay,a=k.computeEventDraggable(n,o,s),d=l&&e.isStart&&k.computeEventStartResizable(n,o,s),l=l&&e.isEnd&&k.computeEventEndResizable(n,o,s),a=this.getSegClasses(e,a,d||l,t),t=k.cssToStr(this.getSkinCss(s)),s="";return a.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(r=this.getTimeText(i))&&(s='<span class="fc-time">'+k.htmlEscape(r)+"</span>"),r='<span class="fc-title">'+(k.htmlEscape(o.title||"")||"&nbsp;")+"</span>",'<a class="'+a.join(" ")+'"'+(o.url?' href="'+k.htmlEscape(o.url)+'"':"")+(t?' style="'+t+'"':"")+'><div class="fc-content">'+("rtl"===n.options.dir?r+" "+s:s+" "+r)+"</div>"+(d?'<div class="fc-resizer fc-start-resizer"></div>':"")+(l?'<div class="fc-resizer fc-end-resizer"></div>':"")+"</a>"},d.prototype.computeEventTimeFormat=function(){return{hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"}},d.prototype.computeDisplayEventEnd=function(){return!1},d);function d(){return null!==l&&l.apply(this,arguments)||this}var p,u=(t(f,p=a),f.prototype.attachSegs=function(e,t){var r=this.rowStructs=this.renderSegRows(e);this.dayGrid.rowEls.forEach(function(e,t){e.querySelector(".fc-content-skeleton > table").appendChild(r[t].tbodyEl)}),t||this.dayGrid.removeSegPopover()},f.prototype.detachSegs=function(){for(var e,t=this.rowStructs||[];e=t.pop();)k.removeElement(e.tbodyEl);this.rowStructs=null},f.prototype.renderSegRows=function(e){for(var t=[],r=this.groupSegRows(e),n=0;n<r.length;n++)t.push(this.renderSegRow(n,r[n]));return t},f.prototype.renderSegRow=function(e,t){var r,n,i,o,s,l,a=this.context.isRtl,d=this.dayGrid,c=d.colCnt,h=this.buildSegLevels(t),p=Math.max(1,h.length),u=document.createElement("tbody"),f=[],m=[],g=[];function y(e){for(;i<e;)(l=(g[r-1]||[])[i])?l.rowSpan=(l.rowSpan||1)+1:(l=document.createElement("td"),o.appendChild(l)),m[r][i]=l,g[r][i]=l,i++}for(r=0;r<p;r++){if(n=h[r],i=0,o=document.createElement("tr"),f.push([]),m.push([]),g.push([]),n)for(s=0;s<n.length;s++){var v=n[s],b=a?c-1-v.lastCol:v.firstCol,S=a?c-1-v.firstCol:v.lastCol;for(y(b),l=k.createElement("td",{className:"fc-event-container"},v.el),b!==S?l.colSpan=S-b+1:g[r][i]=l;i<=S;)m[r][i]=l,f[r][i]=v,i++;o.appendChild(l)}y(c);var w=d.renderProps.renderIntroHtml();w&&(a?k.appendToElement(o,w):k.prependToElement(o,w)),u.appendChild(o)}return{row:e,tbodyEl:u,cellMatrix:m,segMatrix:f,segLevels:h,segs:t}},f.prototype.buildSegLevels=function(e){var t,r,n,i=this.context.isRtl,o=this.dayGrid.colCnt,s=[];for(e=this.sortEventSegs(e),t=0;t<e.length;t++){for(r=e[t],n=0;n<s.length&&function(e,t){var r,n;for(r=0;r<t.length;r++)if((n=t[r]).firstCol<=e.lastCol&&n.lastCol>=e.firstCol)return!0;return!1}(r,s[n]);n++);r.level=n,r.leftCol=i?o-1-r.lastCol:r.firstCol,r.rightCol=i?o-1-r.firstCol:r.lastCol,(s[n]||(s[n]=[])).push(r)}for(n=0;n<s.length;n++)s[n].sort(m);return s},f.prototype.groupSegRows=function(e){for(var t=[],r=0;r<this.dayGrid.rowCnt;r++)t.push([]);for(r=0;r<e.length;r++)t[e[r].row].push(e[r]);return t},f.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},f);function f(e){var t=p.call(this)||this;return t.dayGrid=e,t}function m(e,t){return e.leftCol-t.leftCol}var g,y=(t(v,g=u),v.prototype.attachSegs=function(e,t){var i=t.sourceSeg,o=this.rowStructs=this.renderSegRows(e);this.dayGrid.rowEls.forEach(function(e,t){var r=k.htmlToElement('<div class="fc-mirror-skeleton"><table></table></div>'),n=i&&i.row===t?i.el:(n=e.querySelector(".fc-content-skeleton tbody"))||e.querySelector(".fc-content-skeleton table"),n=n.getBoundingClientRect().top-e.getBoundingClientRect().top;r.style.top=n+"px",r.querySelector("table").appendChild(o[t].tbodyEl),e.appendChild(r)})},v);function v(){return null!==g&&g.apply(this,arguments)||this}var b,S='<td style="pointer-events:none"></td>',w=(t(C,b=k.FillRenderer),C.prototype.renderSegs=function(e,t,r){"bgEvent"===e&&(r=r.filter(function(e){return e.eventRange.def.allDay})),b.prototype.renderSegs.call(this,e,t,r)},C.prototype.attachSegs=function(e,t){for(var r,n,i=[],o=0;o<t.length;o++)r=t[o],n=this.renderFillRow(e,r),this.dayGrid.rowEls[r.row].appendChild(n),i.push(n);return i},C.prototype.renderFillRow=function(e,t){var r=this.dayGrid,n=this.context.isRtl,i=r.colCnt,o=n?i-1-t.lastCol:t.firstCol,s=(n?i-1-t.firstCol:t.lastCol)+1,l="businessHours"===e?"bgevent":e.toLowerCase(),e=k.htmlToElement('<div class="fc-'+l+'-skeleton"><table><tr></tr></table></div>'),l=e.getElementsByTagName("tr")[0];0<o&&k.appendToElement(l,new Array(o+1).join(S)),t.el.colSpan=s-o,l.appendChild(t.el),s<i&&k.appendToElement(l,new Array(i-s+1).join(S));r=r.renderProps.renderIntroHtml();return r&&(n?k.appendToElement(l,r):k.prependToElement(l,r)),e},C);function C(e){var t=b.call(this)||this;return t.fillSegTag="td",t.dayGrid=e,t}var E,R=(t(H,E=k.DateComponent),H.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.el,useEventCenter:!1})},H.prototype.render=function(e,t){this.renderFrame(e.date),this.renderFgEvents(t,e.fgSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDragInstances),this.renderEventResize(e.eventResizeInstances)},H.prototype.destroy=function(){E.prototype.destroy.call(this),this.renderFrame.unrender(),this.context.calendar.unregisterInteractiveComponent(this)},H.prototype._renderFrame=function(e){var t=this.context,r=t.theme,n=t.dateEnv,t=t.options,t=n.format(e,k.createFormatter(t.dayPopoverFormat));this.el.innerHTML='<div class="fc-header '+r.getClass("popoverHeader")+'"><span class="fc-title">'+k.htmlEscape(t)+'</span><span class="fc-close '+r.getIconClass("close")+'"></span></div><div class="fc-body '+r.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>',this.segContainerEl=this.el.querySelector(".fc-event-container")},H.prototype.queryHit=function(e,t,r,n){var i=this.props.date;if(e<r&&t<n)return{component:this,dateSpan:{allDay:!0,range:{start:i,end:k.addDays(i,1)}},dayEl:this.el,rect:{left:0,top:0,right:r,bottom:n},layer:1}},H);function H(e){var t=E.call(this,e)||this,r=t.eventRenderer=new P(t),e=t.renderFrame=k.memoizeRendering(t._renderFrame);return t.renderFgEvents=k.memoizeRendering(r.renderSegs.bind(r),r.unrender.bind(r),[e]),t.renderEventSelection=k.memoizeRendering(r.selectByInstanceId.bind(r),r.unselectByInstanceId.bind(r),[t.renderFgEvents]),t.renderEventDrag=k.memoizeRendering(r.hideByHash.bind(r),r.showByHash.bind(r),[e]),t.renderEventResize=k.memoizeRendering(r.hideByHash.bind(r),r.showByHash.bind(r),[e]),t}var D,P=(t(x,D=a),x.prototype.attachSegs=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];this.dayTile.segContainerEl.appendChild(n.el)}},x.prototype.detachSegs=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];k.removeElement(n.el)}},x);function x(e){var t=D.call(this)||this;return t.dayTile=e,t}var G=(T.prototype.renderHtml=function(e){var t=[];e.renderIntroHtml&&t.push(e.renderIntroHtml());for(var r,n,i,o,s,l,a=0,d=e.cells;a<d.length;a++){var c=d[a];t.push((r=c.date,n=e.dateProfile,i=this.context,o=c.htmlAttrs,c=l=s=void 0,s=i.dateEnv,l=i.theme,c=k.rangeContainsMarker(n.activeRange,r),(i=k.getDayClasses(r,n,i)).unshift("fc-day",l.getClass("widgetContent")),'<td class="'+i.join(" ")+'"'+(c?' data-date="'+s.formatIso(r,{omitTime:!0})+'"':"")+(o?" "+o:"")+"></td>"))}return e.cells.length||t.push('<td class="fc-day '+this.context.theme.getClass("widgetContent")+'"></td>'),"rtl"===this.context.options.dir&&t.reverse(),"<tr>"+t.join("")+"</tr>"},T);function T(e){this.context=e}var z,N=k.createFormatter({day:"numeric"}),I=k.createFormatter({week:"numeric"}),L=(t(W,z=k.DateComponent),W.prototype.render=function(e,t){var r=e.cells;this.rowCnt=r.length,this.colCnt=r[0].length,this.renderCells(r,e.isRigid),this.renderBusinessHours(t,e.businessHourSegs),this.renderDateSelection(t,e.dateSelectionSegs),this.renderBgEvents(t,e.bgEventSegs),this.renderFgEvents(t,e.fgEventSegs),this.renderEventSelection(e.eventSelection),this.renderEventDrag(e.eventDrag),this.renderEventResize(e.eventResize),this.segPopoverTile&&this.updateSegPopoverTile()},W.prototype.destroy=function(){z.prototype.destroy.call(this),this.renderCells.unrender()},W.prototype.getCellRange=function(e,t){t=this.props.cells[e][t].date;return{start:t,end:k.addDays(t,1)}},W.prototype.updateSegPopoverTile=function(e,t){var r=this.props;this.segPopoverTile.receiveProps({date:e||this.segPopoverTile.props.date,fgSegs:t||this.segPopoverTile.props.fgSegs,eventSelection:r.eventSelection,eventDragInstances:r.eventDrag?r.eventDrag.affectedInstances:null,eventResizeInstances:r.eventResize?r.eventResize.affectedInstances:null},this.context)},W.prototype._renderCells=function(e,t){for(var r,n=this.context,i=n.calendar,o=n.view,s=n.isRtl,l=n.dateEnv,a=this.rowCnt,d=this.colCnt,c="",h=0;h<a;h++)c+=this.renderDayRowHtml(h,t);for(this.el.innerHTML=c,this.rowEls=k.findElements(this.el,".fc-row"),this.cellEls=k.findElements(this.el,".fc-day, .fc-disabled-day"),s&&this.cellEls.reverse(),this.rowPositions=new k.PositionCache(this.el,this.rowEls,!1,!0),this.colPositions=new k.PositionCache(this.el,this.cellEls.slice(0,d),!0,!1),h=0;h<a;h++)for(r=0;r<d;r++)i.publiclyTrigger("dayRender",[{date:l.toDate(e[h][r].date),el:this.getCellEl(h,r),view:o}]);this.isCellSizesDirty=!0},W.prototype._unrenderCells=function(){this.removeSegPopover()},W.prototype.renderDayRowHtml=function(e,t){var r=this.context.theme,n=["fc-row","fc-week",r.getClass("dayRow")];t&&n.push("fc-rigid");t=new G(this.context);return'<div class="'+n.join(" ")+'"><div class="fc-bg"><table class="'+r.getClass("tableGrid")+'">'+t.renderHtml({cells:this.props.cells[e],dateProfile:this.props.dateProfile,renderIntroHtml:this.renderProps.renderBgIntroHtml})+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(e)+"</thead>":"")+"</table></div></div>"},W.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.renderProps.cellWeekNumbersVisible||this.renderProps.colWeekNumbersVisible},W.prototype.getIsDayNumbersVisible=function(){return 1<this.rowCnt},W.prototype.renderNumberTrHtml=function(e){var t=this.context.isRtl,r=this.renderProps.renderNumberIntroHtml(e,this);return"<tr>"+(t?"":r)+this.renderNumberCellsHtml(e)+(t?r:"")+"</tr>"},W.prototype.renderNumberCellsHtml=function(e){for(var t,r=[],n=0;n<this.colCnt;n++)t=this.props.cells[e][n].date,r.push(this.renderNumberCellHtml(t));return this.context.isRtl&&r.reverse(),r.join("")},W.prototype.renderNumberCellHtml=function(e){var t,r=this.context,n=r.dateEnv,i=r.options,o="",s=k.rangeContainsMarker(this.props.dateProfile.activeRange,e),l=this.getIsDayNumbersVisible()&&s;return l||this.renderProps.cellWeekNumbersVisible?((r=k.getDayClasses(e,this.props.dateProfile,this.context)).unshift("fc-day-top"),this.renderProps.cellWeekNumbersVisible&&(t=n.weekDow),o+='<td class="'+r.join(" ")+'"'+(s?' data-date="'+n.formatIso(e,{omitTime:!0})+'"':"")+">",this.renderProps.cellWeekNumbersVisible&&e.getUTCDay()===t&&(o+=k.buildGotoAnchorHtml(i,n,{date:e,type:"week"},{class:"fc-week-number"},n.format(e,I))),l&&(o+=k.buildGotoAnchorHtml(i,n,e,{class:"fc-day-number"},n.format(e,N))),o+="</td>"):"<td></td>"},W.prototype.updateSize=function(e){var t=this.context.calendar,r=this.fillRenderer,n=this.eventRenderer,i=this.mirrorRenderer;(e||this.isCellSizesDirty||t.isEventsUpdated)&&(this.buildPositionCaches(),this.isCellSizesDirty=!1),r.computeSizes(e),n.computeSizes(e),i.computeSizes(e),r.assignSizes(e),n.assignSizes(e),i.assignSizes(e)},W.prototype.buildPositionCaches=function(){this.buildColPositions(),this.buildRowPositions()},W.prototype.buildColPositions=function(){this.colPositions.build()},W.prototype.buildRowPositions=function(){this.rowPositions.build(),this.rowPositions.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},W.prototype.positionToHit=function(e,t){var r=this.colPositions,n=this.rowPositions,e=r.leftToIndex(e),t=n.topToIndex(t);if(null!=t&&null!=e)return{row:t,col:e,dateSpan:{range:this.getCellRange(t,e),allDay:!0},dayEl:this.getCellEl(t,e),relativeRect:{left:r.lefts[e],right:r.rights[e],top:n.tops[t],bottom:n.bottoms[t]}}},W.prototype.getCellEl=function(e,t){return this.cellEls[e*this.colCnt+t]},W.prototype._renderEventDrag=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",this.context,e.segs))},W.prototype._unrenderEventDrag=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight",this.context))},W.prototype._renderEventResize=function(e){e&&(this.eventRenderer.hideByHash(e.affectedInstances),this.fillRenderer.renderSegs("highlight",this.context,e.segs),this.mirrorRenderer.renderSegs(this.context,e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},W.prototype._unrenderEventResize=function(e){e&&(this.eventRenderer.showByHash(e.affectedInstances),this.fillRenderer.unrender("highlight",this.context),this.mirrorRenderer.unrender(this.context,e.segs,{isResizing:!0,sourceSeg:e.sourceSeg}))},W.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},W.prototype.limitRows=function(e){for(var t,r=this.eventRenderer.rowStructs||[],n=0;n<r.length;n++)this.unlimitRow(n),!1!==(t=!!e&&("number"==typeof e?e:this.computeRowLevelLimit(n)))&&this.limitRow(n,t)},W.prototype.computeRowLevelLimit=function(e){for(var t,r=this.rowEls[e].getBoundingClientRect().bottom,n=k.findChildren(this.eventRenderer.rowStructs[e].tbodyEl),i=0;i<n.length;i++)if((t=n[i]).classList.remove("fc-limited"),t.getBoundingClientRect().bottom>r)return i;return!1},W.prototype.limitRow=function(t,r){function e(e){for(;C<e;)(l=y.getCellSegs(t,C,r)).length&&(c=i[r-1][C],g=y.renderMoreLink(t,C,l),m=k.createElement("div",null,g),c.appendChild(m),w.push(m)),C++}var n,i,o,s,l,a,d,c,h,p,u,f,m,g,y=this,v=this.colCnt,b=this.context.isRtl,S=this.eventRenderer.rowStructs[t],w=[],C=0;if(r&&r<S.segLevels.length){for(n=S.segLevels[r-1],i=S.cellMatrix,(o=k.findChildren(S.tbodyEl).slice(r)).forEach(function(e){e.classList.add("fc-limited")}),s=0;s<n.length;s++){var E=n[s],R=b?v-1-E.lastCol:E.firstCol,H=b?v-1-E.firstCol:E.lastCol;for(e(R),d=[],a=0;C<=H;)l=this.getCellSegs(t,C,r),d.push(l),a+=l.length,C++;if(a){for(h=(c=i[r-1][R]).rowSpan||1,p=[],u=0;u<d.length;u++)f=k.createElement("td",{className:"fc-more-cell",rowSpan:h}),l=d[u],g=this.renderMoreLink(t,R+u,[E].concat(l)),m=k.createElement("div",null,g),f.appendChild(m),p.push(f),w.push(f);c.classList.add("fc-limited"),k.insertAfterElement(c,p),o.push(c)}}e(this.colCnt),S.moreEls=w,S.limitedEls=o}},W.prototype.unlimitRow=function(e){e=this.eventRenderer.rowStructs[e];e.moreEls&&(e.moreEls.forEach(k.removeElement),e.moreEls=null),e.limitedEls&&(e.limitedEls.forEach(function(e){e.classList.remove("fc-limited")}),e.limitedEls=null)},W.prototype.renderMoreLink=function(l,a,d){var c=this,e=this.context,h=e.calendar,p=e.view,u=e.dateEnv,f=e.options,m=e.isRtl,e=k.createElement("a",{className:"fc-more"});return e.innerText=this.getMoreLinkText(d.length),e.addEventListener("click",function(e){var t=f.eventLimitClick,r=m?c.colCnt-a-1:a,n=c.props.cells[l][r].date,i=e.currentTarget,o=c.getCellEl(l,a),s=c.getCellSegs(l,a),r=c.resliceDaySegs(s,n),s=c.resliceDaySegs(d,n);"popover"===(t="function"==typeof t?h.publiclyTrigger("eventLimitClick",[{date:u.toDate(n),allDay:!0,dayEl:o,moreEl:i,segs:r,hiddenSegs:s,jsEvent:e,view:p}]):t)?c.showSegPopover(l,a,i,r):"string"==typeof t&&h.zoomTo(n,t)}),e},W.prototype.showSegPopover=function(t,e,r,n){var i=this,o=this.context,s=o.calendar,l=o.view,a=o.theme,o=o.isRtl,d=o?this.colCnt-e-1:e,e=r.parentNode,r=1===this.rowCnt?l.el:this.rowEls[t],r={className:"fc-more-popover "+a.getClass("popover"),parentEl:l.el,top:k.computeRect(r).top,autoHide:!0,content:function(e){i.segPopoverTile=new R(e),i.updateSegPopoverTile(i.props.cells[t][d].date,n)},hide:function(){i.segPopoverTile.destroy(),i.segPopoverTile=null,i.segPopover.destroy(),i.segPopover=null}};o?r.right=k.computeRect(e).right+1:r.left=k.computeRect(e).left-1,this.segPopover=new h(r),this.segPopover.show(),s.releaseAfterSizingTriggers()},W.prototype.resliceDaySegs=function(e,t){for(var r={start:t,end:k.addDays(t,1)},n=[],i=0,o=e;i<o.length;i++){var s=o[i],l=s.eventRange,a=l.range,d=k.intersectRanges(a,r);d&&n.push(c({},s,{eventRange:{def:l.def,ui:c({},l.ui,{durationEditable:!1}),instance:l.instance,range:d},isStart:s.isStart&&d.start.valueOf()===a.start.valueOf(),isEnd:s.isEnd&&d.end.valueOf()===a.end.valueOf()}))}return n},W.prototype.getMoreLinkText=function(e){var t=this.context.options.eventLimitText;return"function"==typeof t?t(e):"+"+e+" "+t},W.prototype.getCellSegs=function(e,t,r){for(var n,i=this.eventRenderer.rowStructs[e].segMatrix,o=r||0,s=[];o<i.length;)(n=i[o][t])&&s.push(n),o++;return s},W);function W(e,t){var r=z.call(this,e)||this;r.bottomCoordPadding=0,r.isCellSizesDirty=!1,r.renderProps=t;var n=r.eventRenderer=new u(r),e=r.fillRenderer=new w(r);r.mirrorRenderer=new y(r);t=r.renderCells=k.memoizeRendering(r._renderCells,r._unrenderCells);return r.renderBusinessHours=k.memoizeRendering(e.renderSegs.bind(e,"businessHours"),e.unrender.bind(e,"businessHours"),[t]),r.renderDateSelection=k.memoizeRendering(e.renderSegs.bind(e,"highlight"),e.unrender.bind(e,"highlight"),[t]),r.renderBgEvents=k.memoizeRendering(e.renderSegs.bind(e,"bgEvent"),e.unrender.bind(e,"bgEvent"),[t]),r.renderFgEvents=k.memoizeRendering(n.renderSegs.bind(n),n.unrender.bind(n),[t]),r.renderEventSelection=k.memoizeRendering(n.selectByInstanceId.bind(n),n.unselectByInstanceId.bind(n),[r.renderFgEvents]),r.renderEventDrag=k.memoizeRendering(r._renderEventDrag,r._unrenderEventDrag,[t]),r.renderEventResize=k.memoizeRendering(r._renderEventResize,r._unrenderEventResize,[t]),r}var _,B=k.createFormatter({week:"numeric"}),M=(t(V,_=k.View),V.prototype._processOptions=function(e){e.weekNumbers?e.weekNumbersWithinDays?(this.cellWeekNumbersVisible=!0,this.colWeekNumbersVisible=!1):(this.cellWeekNumbersVisible=!1,this.colWeekNumbersVisible=!0):(this.colWeekNumbersVisible=!1,this.cellWeekNumbersVisible=!1)},V.prototype.render=function(e,t){_.prototype.render.call(this,e,t),this.processOptions(t.options),this.renderSkeleton(t)},V.prototype.destroy=function(){_.prototype.destroy.call(this),this.renderSkeleton.unrender()},V.prototype._renderSkeleton=function(e){this.el.classList.add("fc-dayGrid-view"),this.el.innerHTML=this.renderSkeletonHtml(),this.scroller=new k.ScrollComponent("hidden","auto");var t=this.scroller.el;this.el.querySelector(".fc-body > tr > td").appendChild(t),t.classList.add("fc-day-grid-container");var r=k.createElement("div",{className:"fc-day-grid"});t.appendChild(r),this.dayGrid=new L(r,{renderNumberIntroHtml:this.renderDayGridNumberIntroHtml,renderBgIntroHtml:this.renderDayGridBgIntroHtml,renderIntroHtml:this.renderDayGridIntroHtml,colWeekNumbersVisible:this.colWeekNumbersVisible,cellWeekNumbersVisible:this.cellWeekNumbersVisible})},V.prototype._unrenderSkeleton=function(){this.el.classList.remove("fc-dayGrid-view"),this.dayGrid.destroy(),this.scroller.destroy()},V.prototype.renderSkeletonHtml=function(){var e=this.context,t=e.theme,e=e.options;return'<table class="'+t.getClass("tableGrid")+'">'+(e.columnHeader?'<thead class="fc-head"><tr><td class="fc-head-container '+t.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+t.getClass("widgetContent")+'"></td></tr></tbody></table>'},V.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},V.prototype.hasRigidRows=function(){var e=this.context.options.eventLimit;return e&&"number"!=typeof e},V.prototype.updateSize=function(e,t,r){_.prototype.updateSize.call(this,e,t,r),this.dayGrid.updateSize(e)},V.prototype.updateBaseSize=function(e,t,r){var n,i=this.dayGrid,o=this.context.options.eventLimit,s=this.header?this.header.el:null;i.rowEls?(this.colWeekNumbersVisible&&(this.weekNumberWidth=k.matchCellWidths(k.findElements(this.el,".fc-week-number"))),this.scroller.clear(),s&&k.uncompensateScroll(s),i.removeSegPopover(),o&&"number"==typeof o&&i.limitRows(o),n=this.computeScrollerHeight(t),this.setGridHeight(n,r),o&&"number"!=typeof o&&i.limitRows(o),r||(this.scroller.setHeight(n),((o=this.scroller.getScrollbarWidths()).left||o.right)&&(s&&k.compensateScroll(s,o),n=this.computeScrollerHeight(t),this.scroller.setHeight(n)),this.scroller.lockOverflow(o))):r||(n=this.computeScrollerHeight(t),this.scroller.setHeight(n))},V.prototype.computeScrollerHeight=function(e){return e-k.subtractInnerElHeight(this.el,this.scroller.el)},V.prototype.setGridHeight=function(e,t){this.context.options.monthMode?(t&&(e*=this.dayGrid.rowCnt/6),k.distributeHeight(this.dayGrid.rowEls,e,!t)):t?k.undistributeHeight(this.dayGrid.rowEls):k.distributeHeight(this.dayGrid.rowEls,e,!0)},V.prototype.computeDateScroll=function(e){return{top:0}},V.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},V.prototype.applyDateScroll=function(e){void 0!==e.top&&this.scroller.setScrollTop(e.top)},V);function V(){var i=null!==_&&_.apply(this,arguments)||this;return i.processOptions=k.memoize(i._processOptions),i.renderSkeleton=k.memoizeRendering(i._renderSkeleton,i._unrenderSkeleton),i.renderHeadIntroHtml=function(){var e=i.context,t=e.theme,e=e.options;return i.colWeekNumbersVisible?'<th class="fc-week-number '+t.getClass("widgetHeader")+'" '+i.weekNumberStyleAttr()+"><span>"+k.htmlEscape(e.weekLabel)+"</span></th>":""},i.renderDayGridNumberIntroHtml=function(e,t){var r=i.context,n=r.options,r=r.dateEnv,e=t.props.cells[e][0].date;return i.colWeekNumbersVisible?'<td class="fc-week-number" '+i.weekNumberStyleAttr()+">"+k.buildGotoAnchorHtml(n,r,{date:e,type:"week",forceOff:1===t.colCnt},r.format(e,B))+"</td>":""},i.renderDayGridBgIntroHtml=function(){var e=i.context.theme;return i.colWeekNumbersVisible?'<td class="fc-week-number '+e.getClass("widgetContent")+'" '+i.weekNumberStyleAttr()+"></td>":""},i.renderDayGridIntroHtml=function(){return i.colWeekNumbersVisible?'<td class="fc-week-number" '+i.weekNumberStyleAttr()+"></td>":""},i}M.prototype.dateProfileGeneratorClass=r;var F,O=(t(A,F=k.DateComponent),A.prototype.firstContext=function(e){e.calendar.registerInteractiveComponent(this,{el:this.dayGrid.el})},A.prototype.destroy=function(){F.prototype.destroy.call(this),this.context.calendar.unregisterInteractiveComponent(this)},A.prototype.render=function(e,t){var r=this.dayGrid,n=e.dateProfile,i=e.dayTable;r.receiveContext(t),r.receiveProps(c({},this.slicer.sliceProps(e,n,e.nextDayThreshold,t.calendar,r,i),{dateProfile:n,cells:i.cells,isRigid:e.isRigid}),t)},A.prototype.buildPositionCaches=function(){this.dayGrid.buildPositionCaches()},A.prototype.queryHit=function(e,t){t=this.dayGrid.positionToHit(e,t);if(t)return{component:this.dayGrid,dateSpan:t.dateSpan,dayEl:t.dayEl,rect:{left:t.relativeRect.left,right:t.relativeRect.right,top:t.relativeRect.top,bottom:t.relativeRect.bottom},layer:0}},A);function A(e){var t=F.call(this,e.el)||this;return t.slicer=new q,t.dayGrid=e,t}var j,q=(t(U,j=k.Slicer),U.prototype.sliceRange=function(e,t){return t.sliceRange(e)},U);function U(){return null!==j&&j.apply(this,arguments)||this}var Z,a=(t($,Z=M),$.prototype.render=function(e,t){Z.prototype.render.call(this,e,t);var r=this.props.dateProfile,n=this.dayTable=this.buildDayTable(r,e.dateProfileGenerator);this.header&&this.header.receiveProps({dateProfile:r,dates:n.headerDates,datesRepDistinctDays:1===n.rowCnt,renderIntroHtml:this.renderHeadIntroHtml},t),this.simpleDayGrid.receiveProps({dateProfile:r,dayTable:n,businessHours:e.businessHours,dateSelection:e.dateSelection,eventStore:e.eventStore,eventUiBases:e.eventUiBases,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isRigid:this.hasRigidRows(),nextDayThreshold:this.context.nextDayThreshold},t)},$.prototype._renderSkeleton=function(e){Z.prototype._renderSkeleton.call(this,e),e.options.columnHeader&&(this.header=new k.DayHeader(this.el.querySelector(".fc-head-container"))),this.simpleDayGrid=new O(this.dayGrid)},$.prototype._unrenderSkeleton=function(){Z.prototype._unrenderSkeleton.call(this),this.header&&this.header.destroy(),this.simpleDayGrid.destroy()},$);function $(){var e=null!==Z&&Z.apply(this,arguments)||this;return e.buildDayTable=k.memoize(J),e}function J(e,t){t=new k.DaySeries(e.renderRange,t);return new k.DayTable(t,/year|month|week/.test(e.currentRangeUnit))}r=k.createPlugin({defaultView:"dayGridMonth",views:{dayGrid:a,dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});e.AbstractDayGridView=M,e.DayBgRow=G,e.DayGrid=L,e.DayGridSlicer=q,e.DayGridView=a,e.SimpleDayGrid=O,e.buildBasicDayTable=J,e.default=r,Object.defineProperty(e,"__esModule",{value:!0})});